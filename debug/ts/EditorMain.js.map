{"version":3,"file":"EditorMain.js","sourceRoot":"","sources":["EditorMain.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport * as styles from \"./EditorMainStyle.scss\";\nimport {Editor} from \"../../src/Editor\";\nimport {TouchEventBinder} from \"./TouchEventBinder\";\nimport {CSSProperties} from \"react\";\n\nexport class EditorMainState {\n\tclick: boolean;\n\tmoving: boolean;\n\teditor: Editor;\n\ttouchEventBinder: TouchEventBinder;\n\n\tconstructor(editor: Editor) {\n\t\tthis.editor = editor;\n\t\tthis.touchEventBinder = new TouchEventBinder(editor);\n\t}\n}\n\nexport interface EditorMainProps {\n\tid: string;\n\tdx: number;\n\tdy: number;\n\teditor: Editor;\n}\n\nexport class EditorMain extends React.Component<EditorMainProps, EditorMainState> {\n\n\tconstructor(props: EditorMainProps) {\n\t\tsuper(props);\n\t\tthis.state = new EditorMainState(props.editor);\n\t}\n\n\tcomponentDidMount(): void {\n\n\t\tlet state1: EditorMainState = this.state;\n\t\tstate1.editor.reRender();\n\t\tstate1.editor.start();\n\t\tlet element = document.getElementById(this.props.id)!;\n\t\tstate1.touchEventBinder.bind(element);\n\t}\n\n\tprivate getCursor(): string {\n\n\t\tlet mode = this.state.editor.mode;\n\t\tswitch (mode.getMode()) {\n\t\t\tcase mode.CHANGING:\n\t\t\t\treturn \"wait\";\n\t\t\tcase mode.CLIP_MODE:\n\t\t\t\treturn \"url(http://test.png),crosshair\";\n\t\t\tcase mode.ERASER_MODE:\n\t\t\t\treturn \"url(http://test.png),default\";\n\t\t\tcase mode.EYEDROPPER_MODE:\n\t\t\t\treturn \"url(http://test.png),default\";\n\t\t\tcase mode.FILL_MODE:\n\t\t\t\treturn \"url(http://test.png),default\";\n\t\t\tcase mode.TEXT_MODE:\n\t\t\t\treturn \"url(http://test.png),text\";\n\t\t\tcase mode.STROKE_MODE:\n\t\t\t\treturn \"url(http://test.png),default\";\n\t\t\tcase mode.HAND_TOOL_MODE:\n\t\t\t\treturn \"url(http://test.png),move\";\n\t\t\tdefault:\n\t\t\t\treturn \"auto\";\n\t\t}\n\t}\n\n\tcomponentWillMount(): void {\n\t\tlet state1: EditorMainState = this.state;\n\t\tstate1.editor.stop();\n\t\tstate1.touchEventBinder.unBind();\n\t}\n\n\trender() {\n\t\tlet style = {\n\t\t\tposition: \"absolute\",\n\t\t\ttop: `${this.props.dx}px`,\n\t\t\tleft: `${this.props.dy}px`,\n\t\t\twidth: `${this.props.editor.getWidth()}px`,\n\t\t\theight: `${this.props.editor.getHeight()}px`,\n\t\t\t// cursor: this.getCursor()\n\t\t} as CSSProperties;\n\t\treturn (\n\t\t\t<div className={styles.container}>\n\t\t\t\t<div style={style} className={styles.container__background}>\n\t\t\t\t\t<div id={this.props.id} className={styles.container__canvas}/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default EditorMain;\n"]}